parameters:
  profile: rhel8unreg
  network: default
  default_domain: nontoonyt.lan
  controller_cpus: 2
  controller_ram: 8192
  hub_cpus: 1
  hub_ram: 8192
  db_cpus: 1
  db_ram: 4096
  lb_cpus: 1
  lb_ram: 2048
  skip_update: false
  skip_utilities: false
  groups:
    controllers:
      - controller1
      - controller2
      - controller3
    hub:
      - aaphub
    lb:
      - aap
    db:
      - aapdb
  vms:
    - controller1
    - controller2
    - controller3
    - aap
    - aaphub
    - aapdb

tower_internal:
  type: network
  cidr: 10.0.10.0/24
  nat: False
default:
  type: network
  cidr: 192.168.122.0/24
  domain: {{ default_domain }}
controller1:
  memory: {{ controller_ram }}
  numcpus: {{ controller_cpus }}
  nets:
    - {{ network }}
    - tower_internal
  pool: first
  profile: {{ profile }}
  cmdline: ipv6.disable=1
controller2:
  memory: {{ controller_ram }}
  numcpus: {{ controller_cpus }}
  nets:
    - {{ network }}
    - tower_internal
  pool: first
  profile: {{ profile }}
controller3:
  memory: {{ controller_ram }}
  numcpus: {{ controller_cpus }}
  nets:
    - {{ network }}
    - tower_internal
  pool: first
  profile: {{ profile }}
aapdb:
  memory: {{ db_ram }}
  numcpus: {{ db_cpus }}
  nets:
    - {{ network }}
  pool: ssd
  profile: {{ profile }}
aaphub:
  memory: {{ hub_ram }}
  numcpus: {{ hub_cpus }}
  nets:
    - {{ network }}
  pool: second
  profile: {{ profile }}
aap:
  memory: {{ lb_ram }}
  numcpus: {{ lb_cpus }}
  nets:
    - {{ network }}
  pool: second
  profile: {{ profile }}
build_cluster:
  type: ansible
  playbook: build_cluster.yml
  groups: {{ groups }}
  vms: {{ vms }}
